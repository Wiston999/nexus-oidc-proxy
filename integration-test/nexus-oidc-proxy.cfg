http:
  address: 0.0.0.0:8080
nexus:
  rutAuthToken: X-SSO-USER
  upstream: http://nexus:8081
oidc:
  wellKnownURL: https://keycloak.nexus-oidc-proxy-it/realms/integration-test/.well-known/openid-configuration
  accessTokenHeader: X-Forwarded-Access-Token
  syncInterval: 5m
  userTemplate: |-
    userId: '{{ .Token.Claims.preferred_username }}'
    firstName: '{{ .Token.Claims.given_name }}'
    lastName: '{{ .Token.Claims.family_name }}'
    emailAddress: '{{ .Token.Claims.email }}'
    password: '{{ randBytes 64 | b64enc }}'
    status: 'active'
    roles: ['nx-anonymous']
  roleTemplates:
  - |-
    {{- if .Token.Claims.realm_access.roles }}
    {{- range .Token.Claims.realm_access.roles }}
    {{- if hasPrefix "nx-" . }}
    - {{ . }}
    {{- end }}
    {{- end }}
    {{- else }}
    ['nx-anonymous']
    {{- end }}
